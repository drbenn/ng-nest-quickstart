<standard-page-wrapper>
  <main class="border rounded flex flex-col justify-start items-center py-4 px-8">
    <section>

      <p-divider [align]="'center'" type="solid">
        <span>Request Reset Password</span>
      </p-divider>

      <form (ngSubmit)="onSubmitResetPassword()" [formGroup]="form">

        <p-floatlabel variant="on">
          <input 
            pInputText
            class="w-full"
            id="on_label"
            type="email"
            formControlName="email"
            autocomplete="off" 
          />
          <label for="on_label">Email</label>
        </p-floatlabel>

        <div class="w-full flex flex-row justify-end mt-6">
          <p-button
            class="mr-2"
            label="Clear"
            (click)="form.reset()"
            size="small"
          />
          <p-button
            [disabled]="!form.valid"
            label="Reset Password"
            type="submit"
            size="small"
          />
        </div>
        
      </form>
    </section>

    <section class="mt-8 text-sm">
      @if (passwordResetEmailResponse === 'success') {
        <p>
          Please check your email shortly.
        </p>
        <p class="mt-2">
          A link to the change your password should be received within a few minutes.
        </p>
      }

      @if (passwordResetEmailResponse === 'fail') {
        <p>
          There was an error sending the reset password email.
        </p>
        <p class="mt-2">
          Please try again or contact help.
        </p>
      }

    </section>

  </main>
</standard-page-wrapper>